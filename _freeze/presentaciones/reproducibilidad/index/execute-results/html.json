{
  "hash": "d5371ea3571ca2b39c561a1f352e4b7e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Reproducibilidad\"\n# date: 2025-06-02\nbibliography: references.bib\ncsl: apa.csl\nnocite: |\n  @positsoftware2022; @positsoftware2024; @lopp2019; @slingsby2024; @campitelli2024\n---\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n## Proposito {.incremental}\n\n-   Mostrar la importancia de la reproducibilidad en la ciencia\n-   EnseÃ±ar el flujo de trabajo orientados a proyectos\n\n## Â¿Estamos en crisis? \n\n::: columns\n::: {.column .fragment width=\"50%\"}\n![Respuesta de 1576 cientificos a Â¿existe una crisis de reproducibilidad? @baker2016](images/crisis_01.jpeg){fig-align=\"center\"}\n:::\n\n::: {.column width=\"50%\"}\n::: {.fragment}\n![Registros de WoS que en el tÃ­tulo, resumen o palabras clave contienen: Â«crisis de reproducibilidadÂ», Â«crisis cientÃ­ficaÂ», Â«ciencia en crisisÂ», Â«crisis en la cienciaÂ», Â«crisis de replicaciÃ³nÂ», o Â«crisis de replicabilidadÂ». @fanelli2018](images/crisis_grafica.jpeg){fig-align=\"center\" width=\"800\"}\n:::\n\n::: {.fragment}\n![246 biÃ³logo obtiene 246 resultados diferentes. @oza2023](images/crisis_articulo.png){fig-align=\"center\" width=\"800\"}\n:::\n:::\n:::\n\n## Â¿Alguien por favor quiere pensar en los biÃ³logos?\n\n![Â¿CuÃ¡ntos trabajos publicados en su campo son reproducibles? @baker2016](images/crisis_02.jpeg){fig-align=\"center\"}\n\n## \"Why? Why? Oh, that's why\"\n\n![Â¿Ha fracasado al reproducir un experimento? Â¿QuÃ© factores contribuyen a que una investigaciÃ³n sea irreproducible? @baker2016](images/crisis_03.jpeg){fig-align=\"center\"}\n\n## Â«Alguien tiene que hacer algo, por favorÂ»\n\n![Â¿Alguna vez has intentado publicar un intento de reproducciÃ³n? Â¿Ha establecido procedimientos de reproducibilidad? @baker2016](images/crisis_04.jpeg)\n\n## Repetibilidad, Replicabilidad, Reproducibilidad, y otras erres\n\n::: {.fragment}\n|            @goodman2016            |  @claerbout1992  | @associationforcomputingmachineryacm2020 |\n|:------------------------:|:---------------:|:---------------------------:|\n|                                    |                  |              Repetibilidad               |\n|  Reproducibilidad de los mÃ©todos   | Reproducibilidad |              Replicabilidad              |\n| Reproducibilidad de los resultados |  Replicabilidad  |             Reproducibilidad             |\n|    Reproducibilidad inferencial    |                  |                                          |\n\n: ComparaciÃ³n de tÃ©rminos. Traducido de @plesser2018.\n:::\n\n::: {.fragment}\n![ExplicaciÃ³n de la terminologÃ­a sobre reproducibilidad y replicabilidad. @whitaker2017.](images/reproducible-matrix.jpg){fig-align=\"center\"}\n:::\n\n## El espectro de la reproducibilidad\n\n::: {layout-ncol=1}\n::: {.fragment}\n![Espectro de reproducibilidad mÃ¡s comÃºn. @peng2011.](images/reproducibility_spectrum_1.png){fig-align=\"center\"}\n:::\n\n::: {.fragment}\n![Compartir datos y cÃ³digo se considera suficiente para que muchos reproduzcan el anÃ¡lisis de datos. Sin embargo, esto no es suficiente. @akalin2021.](images/reproducibility_spectrum_2.png){fig-align=\"center\"}\n:::\n:::\n\n# `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Actividad {background-color=\"#0072B2\" transition=\"slide-in\"}\n\n-   Abrir `script_super-analisis.r` que se encuentra en la carpeta `reproducibilidad`\n-   Ejecutar el script\n\n<br>\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_dafc1214\" data-update-every=\"1\" data-play-sound=\"true\" tabindex=\"0\" style=\"right:0;bottom:0;font-size:2em;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Niveles de reproducibilidad en R\n\n![Niveles de reproducibilidad. @higgins2024](images/levels_reproducibility.jpg){fig-align=\"center\"}\n\n## Advertencia\n\n::: {.fragment .r-fit-text}\nSi la primera lÃ­nea de tu script R es\n\n`setwd(\"C:\\Users\\jenny\\ruta\\que\\solo\\yo\\tengo\")`\n\nIrÃ© a tu oficina y LE PRENDERÃ‰ FUEGO A TU ORDENADOR ðŸ”¥\n\n*Jenny Bryan*\n:::\n\n::: columns\n::: {.column .fragment width=\"50%\"}\n![`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 448 512\" style=\"height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z\"/></svg>`{=html} [\\@jennybryan\\@fosstodon.org](https://fosstodon.org/@jennybryan)](images/jenny_bryan.jpeg)\n\n:::\n\n::: {.column .fragment width=\"50%\"}\n-   CientÃ­fica de datos y profesora asociada de estadÃ­stica en la Universidad de Columbia BritÃ¡nica. Estadista e ingeniera de software en Posit.\n-   Autora de [*Happy Git and GitHub for the useR*](https://happygitwithr.com), [*What they gorgot to teach you about R*](https://rstats.wtf), [*STAT 545: Data wrangling, exploration, and analysis with R*](http://stat545.com).\n-   Autora y responsable de `reprex`, `readxl`, `googlesheets4`, `usethis`, entre otros. \n:::\n:::\n\n::: {.footer}\nAlgo similar ocurre con `rm(list = ls())`.\n:::\n\n## Dos problemas\n\n::: columns\n::: {.column .fragment width=\"50%\"}\n### `setwd()`\n\n[`setwd()` establece el directorio de trabajo.]{.fragment}\n\n[`setwd(\"/Users/alex/github/r/etnobotanica-workshop\")`]{.fragment}\n\n[La probabilidad de que `setwd()` tenga el efecto deseado (hacer que las rutas de los archivos funcionen) para alguien que no sea su autor es del 0%. TambiÃ©n es poco probable que funcione para el autor dentro de uno o dos aÃ±os u ordenadores.]{.fragment}\n\n[Las rutas fijas y absolutas, especialmente cuando estÃ¡n esparcidas por todo el cÃ³digo, hacen que un proyecto sea frÃ¡gil. Este tipo de cÃ³digo no viaja bien a travÃ©s del tiempo o del espacio.]{.fragment}\n:::\n\n::: {.column .fragment width=\"50%\"}\n### `rm(list = ls())`\n\n[`rm(list = ls())` elimina Â«*todos*Â» los objetos del entorno de trabajo actual.]{.fragment}\n\n[Pensada para reiniciar las cosas, ya sea para reiniciar el anÃ¡lisis actual o para cambiar de un proyecto a otro. Pero hay mejores maneras de hacer ambas cosas: reiniciar R y Usar un IDE con soporte adecuado para proyectos.]{.fragment}\n\n[Dada la intenciÃ³n, no va lo suficientemente lejos. Todo lo que hace es borrar objetos creados por el usuario del espacio de trabajo. Muchos otros cambios persisten de forma invisible y pueden tener profundos efectos posteriormente.]{.fragment}\n:::\n:::\n\n## Entorno de desarrollo integrado (IDE)\n\n::::: columns\n:::: {.column width=\"50%\"}\n::: {.fragment fragment-index=1}\nAplicaciÃ³n que proporciona servicios integrales para facilitar el desarrollo de software.\n\nVentajas:\n\n-   Resaltado de sintaxis\n-   Autocompletado de texto\n-   Manejo de librerÃ­as\n-   Construir, compilar o ejecutar\n-   y mucho mÃ¡sâ€¦\n:::\n\n::: {.fragment fragment-index=2}\nIDEs populares:\n\n-   Emacs\n-   RStudio\n-   vim\n-   VS Code\n:::\n::::\n\n:::: {.column .fragment fragment-index=1width=\"50%\"}\n![[Apariencia por defecto de RStudio.](https://docs.posit.co/ide/user/ide/get-started/)](images/rstudio_ide.jpeg){fig-align=\"center\"}\n::::\n:::::\n\n## Siempre empezar R desde cero\n\n::: columns\n::: {.column width=\"50%\"}\n[Siempre es recomendable trabajar en un espacio de trabajo desde cero, sin guardar o cargar cada vez. En RStudio se puede puede hacer de esta forma.]{.fragment fragment-index=1}\n\n[Siempre es recomendable reiniciar R de vez en cuando. En RStudio se puede hacer en **Session** \\> **Restar R**. Atajo de teclado: {{< kbd Ctrl-Shift-F10 >}}]{.fragment fragment-index=3}\n:::\n\n::: {.column .fragment fragment-index=2 width=\"50%\"}\n![Para desactivar `.Rdata` ir a **Tools** \\> **Global Options**.](images/rstudio_workspace.png){fig-align=\"center\"}\n:::\n:::\n\n::: footer\n[MÃ¡s informaciÃ³n](https://rstats.wtf/source-and-blank-slates#always-start-r-with-a-blank-slate)\n:::\n\n## Flujo de trabajo orienta a proyectos[^4] \n\n[^4]: Project-oriented workflow\n\n::: {.fragment}\nEnfoque de organizaciÃ³n que estructura todo el trabajo, cÃ³digo, datos y resultados relacionados con un proyecto en una Ãºnica carpeta o estructura de carpetas organizada. Esta metodologÃ­a facilita el manejo y la reproducibilidad de proyectos, especialmente en ciencia de datos, programaciÃ³n y anÃ¡lisis.\n:::\n\n::: columns\n::: {.column .fragment width=\"50%\"}\n### CaracterÃ­sticas\n\n::: {.incremental}\n-   Estructura organizada de carpetas\n-   SeparaciÃ³n de cÃ³digo y datos\n-   Control de versiones\n-   Scripts y documentaciÃ³n reproducibles\n-   Portabilidad\n:::\n:::\n\n::: {.column .fragment width=\"50%\"}\n### Ventajas\n\n::: {.incremental}\n-   Reproducibilidad\n-   ColaboraciÃ³n\n-   Escalabilidad\n:::\n:::\n:::\n\n\n## Proyectos\n\n> Gestionar tus proyectos de forma reproducible no sÃ³lo hace que tu ciencia reproducible, sino que te facilita la vida. [\\@vsbuffalo](https://x.com/vsbuffalo/status/323638476153167872)\n\n::: incremental\n-   Un proyecto es una carpeta que contiene todos los archivos relevantes para un trabajo en particular.\n\n-   Los proyectos permiten que las investigaciones sean reproducibles, portÃ¡tiles y autocontenibles.\n\n-   Trabajar con proyectos implica tener:\n\n    -   **Disciplina en el sistema de archivos**: todos los archivos relacionados a un proyecto (datos, imÃ¡genes, resultados, scripts, etc) estÃ¡n en la carpeta del proyecto.\n    -   **Intencionalidad en el directorio de trabajo**: siempre se trabaja en el directorio del proyecto.\n    -   **Disciplina en las rutas de archivos**: todas las rutas son relativas (nunca absolutas) y relativas a la carpeta del proyecto.\n:::\n\n::: footer\nMÃ¡s informaciÃ³n: @bryan2024; @bryan2017\n:::\n\n## Proyectos de RStudio\n\n::: columns\n::: {.column .fragment width=\"50%\"}\nLos proyectos de RStudio facilitan la divisiÃ³n del trabajo en varios contextos, con su propio directorio y espacio de trabajo, historial y documentos.\n\n![Hay varias formas de crear un proyecto. La mÃ¡s sencilla es **File** \\> **New Project**. Imagen: @wickham2023](images/rstudio_new-project.png){fig-align=\"center\" width=\"800\"}\n:::\n\n::: {.column .fragment width=\"50%\"}\nLa barra de herramientas de proyectos se encuentra en la esquina superior derecha de RStudio. Muestra el nombre del proyecto actual, y tiene comandos para:\n\n![Opciones de la barra de herramientas de proyectos de RStudio.](images/rstudio_project_open.png){fig-align=\"center\"}\n:::\n:::\n\n::: footer\n[MÃ¡s informaciÃ³n](https://docs.posit.co/ide/user/ide/guide/code/projects.html)\n:::\n\n# `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Actividad {background-color=\"#0072B2\" transition=\"slide-in\"}\n\n-   Crear dentro de `Documentos` un nuevo proyecto de RStudio\n\n<br>\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_fe8bee12\" data-update-every=\"1\" data-play-sound=\"true\" tabindex=\"0\" style=\"right:0;bottom:0;font-size:2em;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Rutas\n\n::: columns\n::: {.column width=\"50%\"}\n::: {.fragment}\n### Rutas absolutas\n\nIndican la ubicaciÃ³n de un archivo o directorio desde el directorio raÃ­z del sistema de archivos. Dificulta la reproducibilidad ya que esa ruta sÃ³lo Â«*funciona*Â» en el equipo donde se haya creado.\n\n`/usuarios/yo/documentos/r/proyecto/scripts/super-analisis.R`\n:::\n\n\\\n\n::: {.fragment}\n### Rutas relativas\n\nIndican la ubicaciÃ³n de un archivo o directorio a partir de la posiciÃ³n actual del sistema operativo en el sistema de archivos.\n\n`scripts/super-analisis.R`\n:::\n:::\n\n::: {.column .fragment width=\"50%\"}\n![`Here`: encuentra tu camino. IlustraciÃ³n de [Allison Horst](https://allisonhorst.com/r-packages-functions).](images/package_here.jpg){fig-align=\"center\"}\n:::\n:::\n\n## You are `here::here()`\n\nEl objetivo del paquete here es facilitar la referenciaciÃ³n de archivos en [flujos de trabajo orientados a proyectos](https://www.tidyverse.org/blog/2017/12/workflow-vs-script/)[^3]. `here` utiliza el directorio de nivel superior de un proyecto para construir fÃ¡cilmente rutas a archivos.\n\n[^3]: Puede ser: Proyecto de RStudio, repositorio de git, paquete R, carpeta con un archivo llamado `.here`\n\n\\\n\n::: {.fragment}\n### Ruta absoluta:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreadr::read_csv(\"/Users/alex/documento/r/etnobotanica-workshop/data/raw_data.csv\")\n```\n:::\n\n:::\n\n\\\n\n::: {.fragment}\n### Ruta relativa\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreadr::read_csv(\"data/raw_data.csv\")\n```\n:::\n\n:::\n\n\\\n\n::: {.fragment}\n### Ruta relativa usando `here`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreadr::read_csv(here::here(\"data\", \"raw_data.csv\")) # opciÃ³n 1\nreadr::read_csv(here::here(\"data/raw_data.csv\")) # opciÃ³n 2\n```\n:::\n\n:::\n\n# `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Actividad {background-color=\"#0072B2\" transition=\"slide-in\"}\n\n-   Copiar dentro del proyecto que creo todos los archivos de la carpeta `ejercicio`, que se encuentra en la carpeta `reproducibilidad`\n-   Abrir `01_script_rutas.R` que se encuentra en la carpeta `scripts`\n-   Realizar los ejercicio\n\n<br>\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_532eb48b\" data-update-every=\"1\" data-play-sound=\"true\" tabindex=\"0\" style=\"right:0;bottom:0;font-size:2em;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">15</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## El nombre de las cosas\n\n::: columns\n::: {.column width=\"70%\"}\n\n::: {.fragment fragment-index=\"1\"}\n### No\n\n``` {.markdown code-line-numbers=\"false\"}\nmyabstract.docx\nJoeâ€™s Filenames Use Spaces and Punctuation.xlsx\nfigure 1.png\nfig 2.png\nJW7d^(2sl@deletethisandyourcareerisoverWx2*.txt\n```\n:::\n\n\\\n\n::: {.fragment fragment-index=\"2\"}\n### SÃ­\n\n``` {.markdown code-line-numbers=\"false\"}\n2014-06-08_abstract-for-sla.docx\njoes-filenames-are-getting-better.xlsx\nfig01_scatterplot-talk-length-vs-interest.png\nfig02_histogram-talk-attendance.png\n1986-01-28_raw-data-from-challenger-o-rings.txt\n```\n:::\n:::\n\n::: {.column .fragment width=\"30%\"}\n![<https://xkcd.com/1459/>](images/xkcd_documents.png){fig-align=\"center\"}\n:::\n:::\n\n::: {.footer}\nMÃ¡s informaciÃ³n: @bryan2024; @bryan2015\n:::\n\n## Principios para los nombres (de los archivos)\n\n::: incremental\n1.  Legible por mÃ¡quinas\n\n    -   ExpresiÃ³nes regulares (regex) y globbing[^1] amigable\n        -   Evitar espacios, puntuaciÃ³n, caracteres acentuados y distinciÃ³n entre mayÃºsculas y minÃºsculas\n    -   FÃ¡cil de computar\n        -   Uso deliberado de delimitadores: \"\\_\" para delimitar unidades de metadatos y \"-\" para delimitar palabras\n\n2.  Legible por humanos\n\n    -   El nombre contiene informaciÃ³n sobre el contenido\n\n    -   Relacionado al concepto de URL semÃ¡ntica[^2]\n\n3.  Funciona bien con el orden predeterminado (alfanÃºmerico)\n\n    -   Poner algo numÃ©rico primero\n\n    -   Utilice ceros a la izquierda de otros nÃºmeros\n\n    -   Utilice la norma ISO 8601 para fechas: YYYY-MM-DD\n:::\n\n[^1]: Definir uno o mÃ¡s patrones globales y generar archivos a partir de coincidencias inclusivas o exclusivas. Ejemplo: documento1.txt, documento2.txt. [Fuente](https://learn.microsoft.com/en-us/dotnet/core/extensions/file-globbing)\n\n[^2]: URLs que son entendibles para el usuario. Ejemplo: <https://es.wikipedia.org/wiki/URL_semÃ¡ntica>\n\n## Ejemplos\n\n::: columns\n::: {.column .fragment fragment-index=\"1\" width=\"50%\"}\n### Orden lÃ³gico\n\n``` {.markdown code-line-numbers=\"false\"}\n01_marshal-data.R\n02_pre-dea-filtering.R\n03_dea-with-Limma-voom.R\n04_explore-dea-results.R\n90_Limma-model-term-name-fiasco.R\nhelper01_load-counts.R\nhelper02_load-exp-des.R\nhelper03_load-focus-statinf.R\nhelper04_extract-and-tidy.R\n```\n:::\n\n::: {.column .fragment fragment-index=\"2\" width=\"50%\"}\n### Orden crÃ³nologico\n\n``` {.markdown code-line-numbers=\"false\"}\n2015-11-09_package-installation.R\n2016-05-21_package-installation.R\n2017-09-05_package-installation.R\n2018-06-29_package-installation.R\n2019-02-19_repair-default-library.R\n2020-06-06_record-existing-pkgs.R\n2021-06-15_git-config-analysis.R\n2021-08-29-git-default-branch.R\n2022-08-11_record-existing-pkgs.R\n```\n:::\n:::\n\n\\\n\n::: {.fragment fragment-index=\"3\"}\n### Ejemplo mÃ¡s complejo\n\n``` {.markdown code-line-numbers=\"false\"}\n2013-06-26_BRAFWTNEGASSAY_Plasmid-Cellline-100-1MutantFraction_HO1.csv\n2013-06-26_BRAFWTNEGASSAY_Plasmid-Cellline-100-1MutantFraction_HO2.csv\n2013-06-26_BRAFWTNEGASSAY_Plasmid-Cellline-100-1MutantFraction_plateflle.csv\n2014-02-26_BRAFWTNEGASSAY_FFPEDNA-CRC-1-41_A01.csv\n2014-02-26_BRAFWTNEGASSAY_FFPEDNA-CRC-1-41_A02.csv\n```\n:::\n\n## Formatos de los nombres\n\n::: columns\n::: {.column .fragment width=\"70%\"}\n![[Allison Horst](https://allisonhorst.com/everything-else).](images/that_case.jpeg){fig-align=\"center\"}\n:::\n\n::: {.column .fragment width=\"30%\"}\n-   flatcase\n-   SCREAMINGCASE\n-   camelCase\n-   PascalCase\n-   snake_case\n-   SCREAMING_SNAKE_CASE\n-   camel_Snake_Case\n-   Pascal_Snake_Case\n-   kebab-case\n-   SCREAMING-KEBAB-CASE\n-   camel-Kebad-Case\n-   Pascal-Kebad-Case\n:::\n:::\n\n::: {.fragment}\nR no acepta todos los formatos listados. Formatos sugeridos: camelCase, flatcase, PascalCase, period.case, snake_case.\n:::\n\n## Â«Lo lamento, pero hizo que el emperador perdiera el estiloÂ»\n\n::: columns\n::: {.column .fragment width=\"50%\"}\nUn buen estilo de codificaciÃ³n es como una correcta puntuaciÃ³n: se puede prescindir de Ã©l, perofacilitalalectura. Todas las guÃ­as de estilo se basan fundamentalmente en opiniones. Algunas decisiones realmente facilitan el uso del cÃ³digo, pero muchas decisiones son arbitrarias. Lo mÃ¡s importante de una guÃ­a de estilo es que proporciona coherencia, lo que facilita la escritura del cÃ³digo porque hay que tomar menos decisiones.\n\n![](images/meme_assignment.jpg)\n:::\n\n::: {.column .fragment width=\"50%\"}\n### GuÃ­as de estilo\n\n::: {.incremental}\n-   [GuÃ­a de estilo de Bioconductor](https://contributions.bioconductor.org/r-code.html#r-code)\n-   [GuÃ­a de estilo de Colin Gillespie](https://csgillespie.wordpress.com/2010/11/23/r-style-guide/)\n-   [GuÃ­a de estilo de Google](https://google.github.io/styleguide/Rguide.html)\n-   [GuÃ­a de estilo del Tidyverse](https://style.tidyverse.org)\n:::\n\n::: {.fragment}\nDos paquetes de R soportan la GuÃ­a de estilo del Tidyverse: `styler` y `lintr`.\n\n![Styler aÃ±ade un complemento de RStudio que facilita aplicar el estilo.](images/styler_0.1.gif){fig-align=\"center\"}\n:::\n:::\n:::\n\n# `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Actividad {background-color=\"#0072B2\" transition=\"slide-in\"}\n\n-   Leer la GuÃ­a de estilo del Tidyverse <https://style.tidyverse.org>\n-   Practicar el estilo.\n\n<br>\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_b97bb3e4\" data-update-every=\"1\" data-play-sound=\"true\" tabindex=\"0\" style=\"right:0;bottom:0;font-size:2em;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">15</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Estructura de un proyecto\n\n::: columns\n::: {.column .fragment width=\"50%\"}\nNo hay una estructura estÃ¡ndar para organizar un proyecto. Lo principal es que sea Â«organizadoÂ» y entendible por uno mismo y por otros. \n\nLa estructura de las carpetas y los nombres de los archivos deben ser:\n\n-   Autodocumentados:\n    -   Los datos en la carpeta `datos`\n    -   Los scripts en la carpeta `scripts`\n-   FÃ¡ciles de codificar. Ejemplo:\n    -   medellin_temperatura-minima.csv\n    -   medellin_temperatura-maxina.csv\n-   Todos los archivos necesarios para\n\nHay varios paquetes que facilitan algunas de estas tareas: `usethis`, `rrtools`.\n:::\n\n::: {.column .fragment width=\"50%\"}\n### Ejemplo de estructura de un proyecto\n\n``` {.markdown code-line-numbers=\"false\"}\nproyecto/\nâ”œâ”€â”€ proyecto.Rproject  # proyecto de RStudio\nâ”œâ”€â”€ README.md          # Ãºtil para describir el proyecto\nâ”œâ”€â”€ code/\nâ”‚   â”œâ”€â”€ functions\nâ”‚   â””â”€â”€ scripts\nâ”œâ”€â”€ data/\nâ”‚   â”œâ”€â”€ raw_data/      # los datos sin procesar\nâ”‚   â”‚   â”œâ”€â”€ muestreo.xlsx\nâ”‚   â”œâ”€â”€ derived_data/  # los datos procesados\nâ”‚       â””â”€â”€ datos.csv\nâ”œâ”€â”€ images/\nâ”œâ”€â”€ output/\nâ”‚   â”œâ”€â”€ report.pdf     # el archivo exportado\nâ”œâ”€â”€ report/\nâ”‚   â”œâ”€â”€ apa.csl        # el estilo de citas y referencias\nâ”‚   â”œâ”€â”€ references.bib # la informaciÃ³n de las referencias\nâ”‚   â””â”€â”€ report.qmd\nâ”œâ”€â”€ tables/\nâ””â”€â”€ templates/\n```\n:::\n:::\n\n## Quarto\n\nNo se trata solo de obtener resultados reproducibles; los informes o manuscritos tambiÃ©n deben serlo. Quarto es un sistema de publicaciÃ³n cientÃ­fica y tÃ©cnica de cÃ³digo abierto. Puede entrelazar texto y cÃ³digo para producir resultados con un formato elegante en forma de documentos, pÃ¡ginas web, blogs, libros y mucho mÃ¡s. Los archivos de Quarto (`.qmd`) son archivos de texto plano conformado por:\n\n::::: {.fragment}\n### Metadata (YAML)\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n``` yaml\nformat: html\nengine: knitr\n```\n:::\n\n::: {.column width=\"50%\"}\n``` yaml\nformat: html\nengine: jupyter\n```\n:::\n::::\n\n### CÃ³digo\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n````code\n```{{r}}\nlibrary(dplyr)\nmtcars |> \n  group_by(cyl) |> \n  summarize(mean = mean(mpg))\n```\n````\n:::\n\n::: {.column width=\"50%\"}\n````code\n```{{python}}\nfrom siuba import *\n(mtcars\n  >> group_by(_.cyl)\n  >> summarize(avg_mpg = _.mpg.mean()))\n```\n````\n\n::::\n::::::\n\n### Texto \n\n``` markdown\n# TÃ­tulo 1\nEsta es una frase con algo de **texto en negrita**, *texto en cursiva* y una \n![DescripciÃ³n de la imagen](imagen.png){fig-alt=Â«Alt text para la imagenÂ»}.\n```\n:::\n\n## Rutas en Quarto\n\nAl usar un documento de Quarto dentro de un proyecto, es importante ser consciente de la ubicaciÃ³n de los archivos utilizados; por eso, las rutas relativas son fundamentales. Por diseÃ±o, el directorio de trabajo para renderizar archivos de Quarto es el directorio del propio archivo, que no siempre es la raÃ­z del proyecto (.Rproj).\n\n::: {.fragment}\nTenemos el siguiente proyecto. Queremos mostrar `data.csv` en `index.qmd`\n``` {.markdown code-line-numbers=\"false\"}\nproyecto/\nâ”œâ”€â”€ proyecto.Rproject # proyecto de RStudio\nâ”œâ”€â”€ code/\nâ”‚   â””â”€â”€ index.qmd     # arhcivo de Quarto\nâ””â”€â”€ data/\n    â””â”€â”€ data.csv/     # los datos\n```\n:::\n\n:::: columns\n::: {.column .fragment width=\"50%\"}\n### Ruta relativa\n\n\n::: {.cell}\n\n```{.r .cell-code}\nread.csv(\n  \"../data.csv\"\n)\n\n# los .. significa Â«una carpeta \n# arriba de donde yo estÃ©Â»\n```\n:::\n\n:::\n\n::: {.column .fragment width=\"50%\"}\n### Ruta relativa con `here`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nread.csv(\n  here::here(\n    \"data\",\n    \"data.csv\"\n  )\n)\n```\n:::\n\n:::\n::::\n\n# `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;\"><path d=\"M64 96c0-35.3 28.7-64 64-64H512c35.3 0 64 28.7 64 64V352H512V96H128V352H64V96zM0 403.2C0 392.6 8.6 384 19.2 384H620.8c10.6 0 19.2 8.6 19.2 19.2c0 42.4-34.4 76.8-76.8 76.8H76.8C34.4 480 0 445.6 0 403.2zM281 209l-31 31 31 31c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-48-48c-9.4-9.4-9.4-24.6 0-33.9l48-48c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9zM393 175l48 48c9.4 9.4 9.4 24.6 0 33.9l-48 48c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z\"/></svg>`{=html} Actividad {background-color=\"#0072B2\" transition=\"slide-in\"}\n\n-   Abrir `02_quarto_directorio-trabajo.qmd` que se encuentra en la carpeta `scripts`\n-   Leer las instrucciones y realizar la actividad\n-   Abrir `03_quarto_rutas.qmd` que se encuentra en la carpeta `scripts`\n-   Leer las instrucciones y realizar la actividad\n\n<br>\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_aba2ac86\" data-update-every=\"1\" data-play-sound=\"true\" tabindex=\"0\" style=\"right:0;bottom:0;font-size:2em;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">15</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Flujo de trabajo\n\n![<https://xkcd.com/2054/>](images/data_pipeline.png){fig-align=\"center\"}\n\n::: columns\n::: {.column .fragment width=\"50%\"}\n### Procesos y cÃ³digo\n\n![](images/process-script.png){fig-align=\"center\"}\n:::\n\n::: {.column .fragment width=\"50%\"}\n### Procesos y objetos\n\n![](images/process-out.png){fig-align=\"center\"}\n:::\n:::\n\n::: {.footer}\nImÃ¡genes de @bryan2024.\n:::\n\n## Una API humana para el anÃ¡lisis\n\n![Siempre que se pueda, se ha de apostar por [formatos abiertos](https://es.wikipedia.org/wiki/Formato_abierto): `CSV`, `JPEG`, `HTML`, `ODS`, `ODT`, `PDF`, `PNG`, `SVG`, `TSV`, `TXT`. Imagen @bryan2024.](images/input-code-output.jpg){fig-align=\"center\"}\n\n## Control de versiones\n\n::: columns\n::: {.column width=\"50%\"}\n::: {.fragment fragment-index=2}\n> Un control de versiones es un sistema que registra los cambios realizados en un archivo o conjunto de archivos a lo largo del tiempo, de modo que puedas recuperar versiones especÃ­ficas mÃ¡s adelante. \\[...\\] en realidad puedes hacer lo mismo con casi cualquier tipo de archivo que encuentres en una computadora. @chacon2014\n:::\n\n::: {.fragment fragment-index=3}\nUn mÃ©todo bÃ¡sico y rudimentario del control de versiones es tener copias de un mismo archivo.\n\n``` {.markdown code-line-numbers=\"false\"}\n2015-11-09_package-installation.R\n2016-05-21_package-installation.R\n2017-09-05_package-installation.R\n2018-06-29_package-installation.R\n```\n:::\n\n::: {.fragment fragment-index=4}\n![Se comienza con una versiÃ³n bÃ¡sica y se van guardando sÃ³lo los cambios. @gonzalez2019.](images/play-changes.svg){fig-align=\"center\"}\n:::\n:::\n\n::: {.column .fragment fragment-index=1 width=\"50%\"}\n![Una revisiÃ³n Â«normalÂ» de un documento. [PHD Comics](https://phdcomics.com/comics/archive.php?comicid=1531).](images/notfinal.gif){fig-align=\"center\"}\n:::\n:::\n\n## Git y GitHub\n\n::: {.columns .fragment}\n::: {.column width=\"50%\"}\n> Git es un sistema de control de versiones. Git gestiona la evoluciÃ³n de un conjunto de archivos -llamado repositorio- de una forma sana y muy estructurada. En un flujo de trabajo basado en Git, documentas y, opcionalmente, expones tu trabajo a medida que avanzas. La comunicaciÃ³n y la colaboraciÃ³n son las aplicaciones estrella del control de versiones. @bryan2018.\n\n:::\n\n::: {.column width=\"50%\"}\n![Logo de Git.](images/git_logo.png){fig-align=\"center\"}\n:::\n:::\n\n::: {.columns .fragment}\n::: {.column width=\"50%\"}\n> GitHub es el mayor proveedor de alojamiento de repositorios Git, y es el punto de encuentro para que millones de desarrolladores colaboren en el desarrollo de sus proyectos. Un gran porcentaje de los repositorios Git se almacenan en GitHub, y muchos proyectos de cÃ³digo abierto lo utilizan para hospedar su Git, realizar su seguimiento de fallos, hacer revisiones de cÃ³digo y otras cosas. @chacon2014.\n:::\n\n::: {.column width=\"50%\"}\n![El invertocat logo de Github. La silueta es [The Octocat](https://octodex.github.com), la mascota de GitHub.](images/github_invertocat-logo.png){fig-align=\"center\"}\n:::\n:::\n\n## Entornos reproducibles\n\n::: {.columns .fragment}\n::: {.column width=\"60%\"}\nUn entorno (environment) consiste en todas las dependencias necesarias para que el cÃ³digo se ejecute correctamente. Esto incluye el propio R, los paquetes de R y las dependencias del sistema. Puede ser difÃ­cil gestionar entornos reproducibles:\n\n::: {.incremental}\n-   El cÃ³digo que solÃ­a ejecutarse ya no se ejecuta, a pesar de que el cÃ³digo no ha cambiado.\n-   Tener miedo de actualizar o instalar un nuevo paquete, ya que podrÃ­a romper su cÃ³digo o el de otra persona.\n-   Escribir `install.packages()` en tu entorno no hace nada, o no hace lo *correcto*.\n:::\n:::\n\n::: {.column width=\"40%\"}\n![Â«El proyecto cebollaÂ»: apostar por el flujo de trabajo orientado a proyectos significa adoptar herramientas que permitan gestionar mediante programaciÃ³n cada una de las capas de la configuraciÃ³n del proyecto. @bryan2024](images/project-oyster-greyed.svg){fig-align=\"center\"}\n:::\n:::\n\n::: {.fragment}\nEstos retos pueden abordarse mediante una cuidadosa combinaciÃ³n de herramientas y estrategias. AcÃ¡ sÃ³lo abordamos: la actualizaciÃ³n segura de paquetes y la colaboraciÃ³n en equipo. Quedando por fuera el manejo de varias versiones de R y las dependencias del sistema, para lo cual es recomendable investigar sobre **rig** y **Docker**.\n:::\n\n::: {.footer}\n<https://xkcd.com/1987/>\n:::\n\n## `renv`\n\n::: columns\n::: {.column .fragment width=\"50%\"}\n`renv` ayuda a crear entornos reproducibles para sus proyectos de R, haciendo los proyectos:\n\n::: {.incremental}\n-   Aislados: la instalaciÃ³n de un paquete nuevo o actualizado para un proyecto no romperÃ¡ sus otros proyectos, y viceversa. `renv` proporciona a cada proyecto su propia biblioteca privada.\n-   PortÃ¡til: transporte fÃ¡cilmente sus proyectos de un ordenador a otro, incluso a travÃ©s de diferentes plataformas. `renv` facilita la instalaciÃ³n de los paquetes de los que depende su proyecto.\n-   Reproducible: `renv` registra las versiones exactas de los paquetes de los que depende, y asegura que esas versiones exactas son las que se instalan allÃ¡ donde vaya.\n:::\n:::\n\n::: {.column .fragment width=\"50%\"}\n![](images/renv_logo.png){fig-align=\"center\" width=\"250\"}\n\n![Los verbos y sustantivos mÃ¡s importantes de `renv`.](images/renv_verbos.png){fig-align=\"center\"}\n:::\n:::\n\n::: {.footer}\n<https://rstudio.github.io/renv/>\n:::\n\n## {background-color=\"black\" background-image=\"images/renv_resume.png\" background-size=\"contain\"}\n\n::: {.footer}\n<https://rcd.ucsb.edu/sites/default/files/2023-12/dls-202311-renv-white.pdf>\n:::\n\n# `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;\"><path d=\"M96 64c0-17.7 14.3-32 32-32H448h64c70.7 0 128 57.3 128 128s-57.3 128-128 128H480c0 53-43 96-96 96H192c-53 0-96-43-96-96V64zM480 224h32c35.3 0 64-28.7 64-64s-28.7-64-64-64H480V224zM32 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32z\"/></svg>`{=html} Pausa {background-color=\"#000000\" transition=\"slide-in\"}\n\n<br>\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_7624c272\" data-update-every=\"1\" data-play-sound=\"true\" tabindex=\"0\" style=\"right:0;bottom:0;font-size:2em;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">15</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n## Referencias {visibility=\"uncounted\"}\n\n::: {#refs}\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}